<!DOCTYPE html><html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>ConceptDash - Product Details</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            primary: '#e63946'
          },
          borderRadius: {
            button: '8px'
          },
          fontFamily: {
            pacifico: ['Pacifico', 'cursive']
          }
        }
      }
    }
  </script>
  <link href="https://fonts.googleapis.com/css2?family=Pacifico&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/remixicon/4.6.0/remixicon.min.css" />
  <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-firestore-compat.js"></script>
  <link rel="stylesheet" href="styles.css" />
</head>
<body class="bg-gray-50">
  <header class="fixed top-0 left-0 right-0 bg-white shadow-md z-50">
    <div class="container mx-auto px-4 py-3 flex items-center justify-between">
      <a href="index.html" class="text-xl font-bold text-primary font-pacifico">ConceptDash</a>
      <nav class="flex space-x-6 text-sm items-center">
        <a href="index.html" class="text-gray-700 hover:text-primary"><i class="ri-home-line mr-1"></i>Home</a>
        <a href="catgry.html" class="text-gray-700 hover:text-primary"><i class="ri-apps-line mr-1"></i>Categories</a>
        <a href="add.html" class="text-gray-700 hover:text-primary"><i class="ri-add-line mr-1"></i>Add Item</a>
        <a href="cart.html" class="text-gray-700 hover:text-primary"><i class="ri-shopping-cart-line mr-1"></i>Cart</a>
        <a href="auth.html" class="text-gray-700 hover:text-primary"><i class="ri-user-line mr-1"></i>Login</a>
      </nav>
    </div>
  </header>  <main class="pt-28 px-4 max-w-7xl mx-auto">
    <button onclick="history.back()" class="text-primary hover:underline mb-4 block"><i class="ri-arrow-left-line"></i> Back</button>
    <section id="productContainer" class="bg-white rounded-2xl shadow-lg p-6 md:flex gap-6 items-start">
      <p id="loading" class="text-center w-full py-10 text-lg text-gray-500">Loading product details...</p>
    </section>
    <section id="relatedProducts" class="mt-10"></section>
    <section id="youMayAlsoLikeContainer" class="mt-10"></section>
  </main>  <footer class="bg-white text-center py-4 text-sm text-gray-600 mt-10">
    &copy; 2025 ConceptDash. All rights reserved.
  </footer>  <script>
    const firebaseConfig = {
      apiKey: "AIzaSyD13EXAMPLE",
      authDomain: "food-ae7ff.firebaseapp.com",
      projectId: "food-ae7ff",
      storageBucket: "food-ae7ff.appspot.com",
      messagingSenderId: "256095054979",
      appId: "1:256095054979:web:22de2c16f9acb15f65a08f"
    };

    firebase.initializeApp(firebaseConfig);
    const db = firebase.firestore();

    const params = new URLSearchParams(window.location.search);
    const productId = params.get("id");

    const container = document.getElementById("productContainer");
    const loading = document.getElementById("loading");

    if (productId) {
      db.collection("products").doc(productId).get().then(doc => {
        if (doc.exists) {
          const product = doc.data();
          loading.remove();

          const specs = product.specs || {};
          let specsHTML = "";
          if (Object.keys(specs).length > 0) {
            specsHTML += `<h3 class="font-bold text-lg mt-6 mb-2">Specifications</h3><ul class="list-disc list-inside text-gray-700">`;
            for (let key in specs) {
              specsHTML += `<li><strong>${key}:</strong> ${specs[key]}</li>`;
            }
            specsHTML += `</ul>`;
          }

          container.innerHTML = `
            <img src="${product.imageUrl}" alt="${product.name}" class="w-full md:w-1/2 h-96 object-cover rounded-2xl border" />
            <div class="mt-6 md:mt-0 flex-1">
              <h1 class="text-3xl font-bold mb-2">${product.name}</h1>
              <p class="text-gray-600 mb-4">${product.description}</p>
              ${specsHTML}
              <div class="text-2xl font-bold text-primary mb-6">Ksh ${product.price}</div>
              <button 
                id="addToCartBtn"
                class="bg-primary hover:bg-red-700 text-white px-6 py-3 rounded-button text-lg transition"
                data-id="${doc.id}"
                data-name="${product.name}"
                data-price="${product.price}"
                data-image="${product.imageUrl}"
              >
                <i class="ri-shopping-cart-2-line mr-1"></i> Add to Cart
              </button>
            </div>
          `;

          setTimeout(() => {
            const btn = document.getElementById("addToCartBtn");
            btn.addEventListener("click", () => {
              const product = {
                id: btn.dataset.id,
                name: btn.dataset.name,
                price: parseFloat(btn.dataset.price),
                image: btn.dataset.image,
                quantity: 1
              };
              addToCart(product);
            });
          }, 0);
        } else {
          loading.innerHTML = "âŒ Product not found.";
        }
      });
    }

    function addToCart(product) {
      let cart = JSON.parse(localStorage.getItem("cart")) || [];
      const index = cart.findIndex(item => item.id === product.id);

      if (index !== -1) {
        cart[index].quantity += 1;
      } else {
        cart.push(product);
      }

      localStorage.setItem("cart", JSON.stringify(cart));
      alert(`ðŸ›’ ${product.name} added to cart!`);
    }
  </script></body>
  </html>
